---
---
<section id="contacto" class="py-32 px-6 bg-white/50 border-t border-slate-100">
    <div class="max-w-6xl mx-auto">
        <div class="grid lg:grid-cols-2 gap-16 items-center">
            <!-- Columna Izquierda: Información de Contacto -->
            <div class="reveal">
                <span class="text-ccer-deep font-bold tracking-widest text-xs uppercase mb-6 block">Encuéntranos</span>
                <h2 class="text-5xl md:text-7xl font-serif mb-10 text-ccer-deep leading-tight">Abierto <br>para <span class="italic font-light">recibirte.</span></h2>
                <p class="text-ccer-stone text-lg mb-8 font-light max-w-md">
                    Santiago de los Caballeros es nuestra casa. Ven a compartir un tiempo de paz y búsqueda genuina cada semana.
                </p>
                
                <!-- Lista de Contacto Vertical con HTML Semántico para SEO -->
                <address class="flex flex-col gap-8 not-italic">
                    <!-- Dirección -->
                    <div class="flex gap-5">
                        <div class="w-12 h-12 bg-white text-ccer-deep rounded-2xl flex items-center justify-center flex-shrink-0 shadow-subtle border border-slate-200">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
                        </div>
                        <div>
                            <h4 class="font-bold text-ccer-deep text-[11px] uppercase tracking-wider mb-1">Dirección</h4>
                            <p class="text-ccer-stone text-lg font-light leading-snug">
                                Av. Franco Bidó, #420,<br>
                                <span class="font-medium">Camboya Marilopez, Santiago.</span>
                            </p>
                        </div>
                    </div>

                    <!-- Teléfono -->
                    <div class="flex gap-5">
                        <div class="w-12 h-12 bg-white text-ccer-deep rounded-2xl flex items-center justify-center flex-shrink-0 shadow-subtle border border-slate-200">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                        </div>
                        <div>
                            <h4 class="font-bold text-ccer-deep text-[11px] uppercase tracking-wider mb-1">Teléfono</h4>
                            <a href="tel:+18095550123" class="text-ccer-stone text-lg font-light hover:text-ccer-accent transition-colors">+1 (809) 555-0123</a>
                        </div>
                    </div>

                    <!-- Correo -->
                    <div class="flex gap-5">
                        <div class="w-12 h-12 bg-white text-ccer-deep rounded-2xl flex items-center justify-center flex-shrink-0 shadow-subtle border border-slate-200">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                        </div>
                        <div>
                            <h4 class="font-bold text-ccer-deep text-[11px] uppercase tracking-wider mb-1">Correo</h4>
                            <a href="mailto:hola@ccer.org" class="text-ccer-stone text-lg font-light hover:text-ccer-accent transition-colors">hola@ccer.org</a>
                        </div>
                    </div>
                </address>
            </div>
            
            <!-- Columna Derecha: Mapa y Acciones -->
            <div class="reveal delay-200 h-full">
                <div class="h-full bg-white rounded-[3.5rem] p-4 shadow-soft border border-slate-200 flex flex-col relative overflow-hidden">
                    <!-- Mapa Expandido con optimización de carga -->
                    <div class="w-full h-full min-h-[450px] rounded-[2.8rem] overflow-hidden relative z-10 shadow-inner">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4644.4752552098635!2d-70.69176642396687!3d19.42912598184956!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8eb1cf14460dd623%3A0xf0d7784bceeae468!2sCentro%20Cristiano%20El+Redentor!5e1!3m2!1ses-419!2sdo!4v1767963698157!5m2!1ses-419!2sdo" 
                            width="100%" 
                            height="100%" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            title="Ubicación de Centro Cristiano El Redentor en Google Maps"
                            referrerpolicy="no-referrer-when-downgrade"
                        ></iframe>
                    </div>

                    <!-- Botones de Acción (UX mejorado para accesibilidad) -->
                    <div class="p-4 md:p-6 bg-white relative z-20">
                        <div class="flex flex-col sm:flex-row gap-4">
                            <button id="copyBtn" class="flex-1 bg-slate-50 text-ccer-deep px-6 py-5 rounded-2xl font-bold text-xs uppercase tracking-widest hover:bg-ccer-deep hover:text-white transition-all shadow-sm flex items-center justify-center gap-2 border border-slate-200 active:scale-95">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                                Copiar Dirección
                            </button>
                            <a href="https://maps.app.goo.gl/wrj21J2wkqodBeT97" target="_blank" rel="noopener noreferrer" class="flex-1 bg-ccer-deep text-white px-6 py-5 rounded-2xl font-bold text-xs uppercase tracking-widest hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 active:scale-95">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polygon points="3 11 22 2 13 21 11 13 3 11"/></svg>
                                Abrir en GPS
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    const setupLocation = () => {
        const copyBtn = document.getElementById('copyBtn');
        const toast = document.getElementById('toast');

        copyBtn?.addEventListener('click', () => {
            const text = "Av. Franco Bidó, #420, Camboya Marilopez, Santiago de los Caballeros, República Dominicana";
            // Uso de fallback para compatibilidad si navigator.clipboard no está disponible
            if (navigator.clipboard) {
                navigator.clipboard.writeText(text).then(() => showToast(toast));
            } else {
                const textArea = document.createElement("textarea");
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    showToast(toast);
                } catch (err) {
                    console.error('Error al copiar', err);
                }
                document.body.removeChild(textArea);
            }
        });
    }

    const showToast = (toast: HTMLElement | null) => {
        if (toast) {
            toast.classList.remove('invisible', 'opacity-0');
            toast.classList.add('visible', 'opacity-100');
            setTimeout(() => {
                toast.classList.add('invisible', 'opacity-0');
                toast.classList.remove('visible', 'opacity-100');
            }, 3000);
        }
    }

    setupLocation();
    document.addEventListener('astro:after-swap', setupLocation);
</script>